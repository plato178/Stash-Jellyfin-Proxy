# Stash-Jellyfin Proxy Configuration
# ===================================
# Edit this file to configure the proxy, then restart the server.

#################################################################################
# ---- Connection Settings ----
#################################################################################

# Port for the web configuration UI (separate from proxy port). Set to 0 to disable Web UI.
UI_PORT = 8097

# Stash server URL (your Stash server address)
# Examples: http://localhost:9999, https://stash.example.com
STASH_URL = "http://localhost:9999"

# Proxy binding settings
PROXY_BIND = "0.0.0.0"
PROXY_PORT = 8096

# Stash API key from Settings -> Security -> API Key
# Get your API key from: Stash -> Settings -> Security -> API Key
STASH_API_KEY = ""

# User credentials for Infuse authentication
# These are the credentials you'll use to connect from Infuse
SJS_USER = ""
SJS_PASSWORD = ""


#################################################################################
# ---- Library Configuration ----
#################################################################################

# Tag groups - comma-separated list of tag names to show as top-level folders
# Each tag will appear as a browsable folder in the root navigation
# Example: TAG_GROUPS = "Favorites, VR, 4K, Featured"
TAG_GROUPS = ""

# Latest groups - controls which libraries show on Infuse home page "Recently Added"
# "Scenes" = all scenes, other entries must match TAG_GROUPS entries
# Example: LATEST_GROUPS = "Scenes, VR, Favorites"
LATEST_GROUPS = "Scenes"


#################################################################################
# ---- Server Identity ----
#################################################################################
# Customize how the proxy identifies itself to clients

# Server name shown in Jellyfin clients
SERVER_NAME = "Stash Media Server"

# IMPORTANT: Unique server identifier for Jellyfin clients
# This value is auto-generated on first run if left empty
# Once set, do NOT change it or you will need to re-add the server in Infuse
# SERVER_ID = ""


#################################################################################
# ---- Pagination Settings ----
#################################################################################

# Default number of items per page (used when client doesn't specify)
# DEFAULT_PAGE_SIZE = 50

# Maximum number of items to return in a single request
# MAX_PAGE_SIZE = 200


#################################################################################
# ---- Feature Toggles ----
#################################################################################

# Show FILTERS folder in library root (requires saved filters in Stash)
# ENABLE_FILTERS = true

# Enable image resizing for studio/performer thumbnails (requires Pillow)
# ENABLE_IMAGE_RESIZE = true

# Show Tags folder for browsing all tags and their scenes
# ENABLE_TAG_FILTERS = false

# Show "All Tags" subfolder in Tags (can be slow with large tag counts)
# ENABLE_ALL_TAGS = false


#################################################################################
# ---- Performance Settings ----
#################################################################################

# Request timeout for Stash API calls (seconds)
# STASH_TIMEOUT = 30

# Number of retries for failed Stash API calls
# STASH_RETRIES = 3


#################################################################################
# ---- Logging Settings ----
#################################################################################

# Directory for log files (use "." for current directory, or absolute path)
# LOG_DIR = "."

# Log file name
# LOG_FILE = "stash_jellyfin_proxy.log"

# Log level: DEBUG, INFO, WARNING, ERROR
# LOG_LEVEL = "INFO"

# Maximum log file size in MB before rotation
# LOG_MAX_SIZE_MB = 10

# Number of backup log files to keep
# LOG_BACKUP_COUNT = 3


#################################################################################
# ---- Security Settings ----
#################################################################################

# Require password to access the web configuration UI
# REQUIRE_AUTH_FOR_CONFIG = false

# TLS certificate verification for Stash connection
# Set to false for self-signed certificates
# STASH_VERIFY_TLS = true

# GraphQL endpoint path (usually /graphql, use /graphql-local for some proxy setups)
# STASH_GRAPHQL_PATH = /graphql

# Ban threshold - failed auth attempts before IP is banned
# BAN_THRESHOLD = 10

# Ban window in minutes - rolling window for counting failures
# BAN_WINDOW_MINUTES = 15
